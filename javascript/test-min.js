var debug=e=>{},$$=e=>document.getElementById(e),$n=e=>document.getElementsByName(e)[0],$=e=>$$(e)?$$(e):$n(e),$sc=(e,l)=>{$(e)?$(e).style.color=l:debug(mis+e)},$sd=(e,l,a="block")=>{$(e)?$(e).style.display=l?a:"none":debug(mis+e)},$tt=e=>{if($(e))return $(e).innerText;debug(mis+e)},$h=(e,l)=>{$(e)?$(e).innerHTML=l:debug(mis+e)},$v=(e,l)=>{$(e)?$(e).value=l:debug(mis+e)},$ch=(e,l)=>{$(e)?$(e).checked=l?"checked":"":debug(mis+e)},$qs=e=>document.querySelectorAll(e);const full_view_pixel=3,full_view_brk=1;var panels_test={};class tPanel{}var selMenu=e=>{["full_page","global_settings","tests"].forEach((e=>{$sd(e,0),$ch("m_"+e,0)})),$ch("m_"+e,1),$sd(e,1),saveState()},selFullViewCP=()=>{$h("full_view_lcd","");for(var e=new CharLCD({at:"full_view_lcd",rows:16,cols:16,rom:$("full_view_cp").value,off:$("lcd_bg_color").value,on:$("lcd_text_color").value,pixel_size:3,break_size:1}),l=0;l<16;l++)for(var a=0;a<16;a++)e.char(l,a,String.fromCharCode(16*l+a));saveState()},initFullViews=()=>{var e=new CharLCD({at:"lcd0",rows:1,cols:1,off:"#fff",on:"#f00",pixel_size:3,break_size:1});e.font(0,[0,10,21,17,10,4]),e.char(0,0,String.fromCharCode(0)),new CharLCD({at:"lcd1",rows:1,cols:16,off:"#fff",on:"#000",pixel_size:3,break_size:1}).text(0,0,"0123456789ABCDEF"),new CharLCD({at:"lcdv",rows:16,cols:1,off:"#fff",on:"#000",pixel_size:3,break_size:1}).text(0,0,"0\n1\n2\n3\n4\n5\n6\n7\n8\n9\nA\nB\nC\nD\nE\nF"),selFullViewCP()},addPanel=(e,l)=>{var a=new CharLCD({at:"panel_"+e.toString(),rows:$("rows").value,cols:$("columns").value,rom:$("full_view_cp").value,off:$("lcd_bg_color").value,on:$("lcd_text_color").value,pix:$("px_size").value,brk:$("break_size").value}),n=$("panel_name_"+e).innerHTML;n||(n=$n("panel_name_"+e).value);var t={index:e,name:n,content:[],lcd_panel:a};panels_test[e]=t},updatePanel=e=>{let l=e.value+" ";panels_test[0].lcd_panel.text(0,0,l),panels_test[0].content=l},initPanels=()=>{},editPanelName=e=>{let l=e.id;e.parentElement.innerHTML="<input type='text' onfocusout='renamePanel(this)' value='"+e.innerHTML+"' name='"+l+"'/>",$n(l).focus()},renamePanel=e=>{let l=e.name,a=e.value;(e=e.parentElement).innerHTML='<h3 id="'+l+'" onclick="editPanelName(this)">'+a+"</h3>"},elValues=[{name:"full_view_cp",defvalue:"eu"},{name:"rows",defvalue:2},{name:"columns",defvalue:16},{name:"px_size",defvalue:3},{name:"break_size",defvalue:1},{name:"lcd_bg_color",defvalue:"#cd2"},{name:"lcd_text_color",defvalue:"#143"}],saveState=()=>{elValues.forEach((e=>{localStorage.setItem("LCDtest_"+e.name,$(e.name).value)}))},loadState=()=>{elValues.forEach((e=>{$v(e.name,localStorage.getItem("LCDtest_"+e.name)||e.defvalue)}))};window.addEventListener("DOMContentLoaded",(()=>{loadState(),initFullViews(),selMenu("tests"),addPanel(0)}));